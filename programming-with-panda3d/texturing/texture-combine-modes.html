

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Texture Combine Modes &mdash; Panda3D Manual</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Panda3D Manual" href="../../index.html"/>
        <link rel="up" title="Texturing" href="index.html"/>
        <link rel="next" title="Texture Transforms" href="texture-transforms.html"/>
        <link rel="prev" title="Texture Order" href="texture-order.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Panda3D
          

          
          </a>

          
            
            
              <div class="version">
                1.10
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro/index.html">Introduction to Panda3D</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Programming with Panda3D</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../the-scene-graph/index.html">The Scene Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../the-configuration-file/index.html">The Configuration File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../models-and-actors/index.html">Models and Actors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../render-attributes/index.html">Render Attributes</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Texturing</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="simple-texturing.html">Simple Texturing</a></li>
<li class="toctree-l3"><a class="reference internal" href="choosing-a-texture-size.html">Choosing a Texture Size</a></li>
<li class="toctree-l3"><a class="reference internal" href="texture-wrap-modes.html">Texture Wrap Modes</a></li>
<li class="toctree-l3"><a class="reference internal" href="texture-filter-types.html">Texture Filter Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="simple-texture-replacement.html">Simple Texture Replacement</a></li>
<li class="toctree-l3"><a class="reference internal" href="multitexture-introduction.html">Multitexture Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="texture-modes.html">Texture Modes</a></li>
<li class="toctree-l3"><a class="reference internal" href="texture-order.html">Texture Order</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Texture Combine Modes</a></li>
<li class="toctree-l3"><a class="reference internal" href="texture-transforms.html">Texture Transforms</a></li>
<li class="toctree-l3"><a class="reference internal" href="multiple-texture-coordinate-sets.html">Multiple Texture Coordinate Sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="automatic-texture-coordinates.html">Automatic Texture Coordinates</a></li>
<li class="toctree-l3"><a class="reference internal" href="projected-textures.html">Projected Textures</a></li>
<li class="toctree-l3"><a class="reference internal" href="simple-environment-mapping.html">Simple Environment Mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="3d-textures.html">3-D Textures</a></li>
<li class="toctree-l3"><a class="reference internal" href="cube-maps.html">Cube Maps</a></li>
<li class="toctree-l3"><a class="reference internal" href="environment-mapping-with-cube-maps.html">Environment Mapping with Cube Maps</a></li>
<li class="toctree-l3"><a class="reference internal" href="automatic-texture-animation.html">Automatic Texture Animation</a></li>
<li class="toctree-l3"><a class="reference internal" href="playing-mpg-and-avi-files.html">Playing MPG and AVI files</a></li>
<li class="toctree-l3"><a class="reference internal" href="stereo-multiview-textures.html">Stereo/Multiview Textures</a></li>
<li class="toctree-l3"><a class="reference internal" href="transparency-and-blending.html">Transparency and Blending</a></li>
<li class="toctree-l3"><a class="reference internal" href="texture-management.html">Texture Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="texture-compression.html">Texture Compression</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../shaders/index.html">Shaders</a></li>
<li class="toctree-l2"><a class="reference internal" href="../camera-control/index.html">Camera Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/index.html">Sound</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intervals/index.html">Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tasks-and-event-handling/index.html">Tasks and Event Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text-and-image-rendering/index.html">Text and Image Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../directgui/index.html">DirectGUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../render-effects/index.html">Render Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finite-state-machines/index.html">Finite State Machines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../terrain/index.html">Terrain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal-structures/index.html">Advanced operations with Panda3D&#8217;s internal structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../render-to-texture-and-image-postprocessing/index.html">Render-to-Texture and Image Postprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../panda3d-rendering-process/index.html">Panda3D Rendering Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../panda3d-utility-functions.html">Panda3D Utility Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../particle-effects/index.html">Particle Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../collision-detection/index.html">Collision Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../garbage-collection/index.html">Garbage Collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware-support/index.html">Hardware support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../math-engine/index.html">Math Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../physics/index.html">Physics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../motion-paths.html">Motion Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timing/index.html">Timing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html">Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multifiles/index.html">Multifiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../showbase.html">ShowBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file-reading.html">File Reading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../threading.html">Threading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subclassing.html">Subclassing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../table-of-features-supported-per-graphic-renderer.html">Table of features supported per graphic renderer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pandai/index.html">Artificial Intelligence (PANDAI)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../distribution/index.html">Distributing Panda3D Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples/index.html">Sample Programs in the Distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../performance-tuning/index.html">Performance Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using-c++/index.html">Using C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Panda3D Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../building-from-source.html">Building Panda3D from Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cheat-sheets.html">Cheat Sheets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started-on-osx.html">Getting Started on OSX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../more-panda3d-resources.html">More Panda3D Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../thirdparty-licenses.html">Third-party dependencies and license info</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../the-irc-channel.html">The IRC Channel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Panda3D</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Programming with Panda3D</a> &raquo;</li>
      
          <li><a href="index.html">Texturing</a> &raquo;</li>
      
    <li>Texture Combine Modes</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/programming-with-panda3d/texturing/texture-combine-modes.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="texture-combine-modes">
<span id="id1"></span><h1>Texture Combine Modes<a class="headerlink" href="#texture-combine-modes" title="Permalink to this headline">¶</a></h1>
<p>In addition to the several :ref:` &lt;texture-modes&gt;` described previously, there
is a more advanced interface on TextureStage that allows for a larger
vocabulary of texture blending options.</p>
<p>Although several of the following options (CMReplace, CMModulate, CMAdd) have
obvious parallels with the simpler blend modes described previously, they are
in fact more powerful, because with each of the following you may specify the
particular source or sources to be used for the operation; you are not limited
to simply applying the operation to the top texture and the texture below.</p>
<div class="section" id="rgb-modes">
<h2>RGB modes<a class="headerlink" href="#rgb-modes" title="Permalink to this headline">¶</a></h2>
<p>The following specify the effect of the RGB (color) channels. A separate set
of methods, below, specifies the effect of the alpha channel.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ts</span><span class="o">.</span><span class="n">setCombineRgb</span><span class="p">(</span><span class="n">TextureStage</span><span class="o">.</span><span class="n">CMReplace</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">operand</span><span class="p">)</span>
</pre></div>
</div>
<p>This mode is similar to &#8220;replace mode&#8221;. Whatever color is specified by source
and operand becomes the new color.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ts</span><span class="o">.</span><span class="n">setCombineRgb</span><span class="p">(</span><span class="n">TextureStage</span><span class="o">.</span><span class="n">CMModulate</span><span class="p">,</span> <span class="n">source0</span><span class="p">,</span> <span class="n">operand0</span><span class="p">,</span> <span class="n">source1</span><span class="p">,</span> <span class="n">operand1</span><span class="p">)</span>
</pre></div>
</div>
<p>This mode is similar to &#8220;modulate mode&#8221;. The color from source0/operand0 is
multiplied by the color from source1/operand1.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ts</span><span class="o">.</span><span class="n">setCombineRgb</span><span class="p">(</span><span class="n">TextureStage</span><span class="o">.</span><span class="n">CMAdd</span><span class="p">,</span> <span class="n">source0</span><span class="p">,</span> <span class="n">operand0</span><span class="p">,</span> <span class="n">source1</span><span class="p">,</span> <span class="n">operand1</span><span class="p">)</span>
</pre></div>
</div>
<p>This mode is similar to &#8220;add mode&#8221;. The color from source0/operand0 is added
to the color from source1/operand1, and the result is clamped to 1 (white).</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ts</span><span class="o">.</span><span class="n">setCombineRgb</span><span class="p">(</span><span class="n">TextureStage</span><span class="o">.</span><span class="n">CMAddSigned</span><span class="p">,</span> <span class="n">source0</span><span class="p">,</span> <span class="n">operand0</span><span class="p">,</span> <span class="n">source1</span><span class="p">,</span> <span class="n">operand1</span><span class="p">)</span>
</pre></div>
</div>
<p>In this mode, the colors are added as signed numbers, and the result wraps.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ts</span><span class="o">.</span><span class="n">setCombineRgb</span><span class="p">(</span><span class="n">TextureStage</span><span class="o">.</span><span class="n">CMSubtract</span><span class="p">,</span> <span class="n">source0</span><span class="p">,</span> <span class="n">operand0</span><span class="p">,</span> <span class="n">source1</span><span class="p">,</span> <span class="n">operand1</span><span class="p">)</span>
</pre></div>
</div>
<p>In this mode, source1/operand1 is subtracted from source0/operand0.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ts</span><span class="o">.</span><span class="n">setCombineRgb</span><span class="p">(</span><span class="n">TextureStage</span><span class="o">.</span><span class="n">CMInterpolate</span><span class="p">,</span>
                 <span class="n">source0</span><span class="p">,</span> <span class="n">operand0</span><span class="p">,</span> <span class="n">source1</span><span class="p">,</span> <span class="n">operand1</span><span class="p">,</span> <span class="n">source2</span><span class="p">,</span> <span class="n">operand2</span><span class="p">)</span>
</pre></div>
</div>
<p>This is the only mode that uses three sources. The value of source2/operand2
is used to select between source0/operand0 and source1/operand1. When source2
is 0, source0 is selected, and when source2 is 1, source1 is selected. When
source2 is between 0 and 1, the color is smoothly blended between source0 and
source1.</p>
</div>
<div class="section" id="alpha-modes">
<h2>Alpha modes<a class="headerlink" href="#alpha-modes" title="Permalink to this headline">¶</a></h2>
<p>The following methods more-or-less duplicate the functionality of the above,
but they control what happens to the alpha channel. Thus, you have explicit
control over whether an alpha cutout in the top texture should produce an
alpha cutout in the resulting object.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ts</span><span class="o">.</span><span class="n">setCombineAlpha</span><span class="p">(</span><span class="n">TextureStage</span><span class="o">.</span><span class="n">CMReplace</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">operand</span><span class="p">)</span>
<span class="n">ts</span><span class="o">.</span><span class="n">setCombineAlpha</span><span class="p">(</span><span class="n">TextureStage</span><span class="o">.</span><span class="n">CMModulate</span><span class="p">,</span> <span class="n">source0</span><span class="p">,</span> <span class="n">operand0</span><span class="p">,</span> <span class="n">source1</span><span class="p">,</span> <span class="n">operand1</span><span class="p">)</span>
<span class="n">ts</span><span class="o">.</span><span class="n">setCombineAlpha</span><span class="p">(</span><span class="n">TextureStage</span><span class="o">.</span><span class="n">CMAdd</span><span class="p">,</span> <span class="n">source0</span><span class="p">,</span> <span class="n">operand0</span><span class="p">,</span> <span class="n">source1</span><span class="p">,</span> <span class="n">operand1</span><span class="p">)</span>
<span class="n">ts</span><span class="o">.</span><span class="n">setCombineAlpha</span><span class="p">(</span><span class="n">TextureStage</span><span class="o">.</span><span class="n">CMAddSigned</span><span class="p">,</span> <span class="n">source0</span><span class="p">,</span> <span class="n">operand0</span><span class="p">,</span> <span class="n">source1</span><span class="p">,</span> <span class="n">operand1</span><span class="p">)</span>
<span class="n">ts</span><span class="o">.</span><span class="n">setCombineAlpha</span><span class="p">(</span><span class="n">TextureStage</span><span class="o">.</span><span class="n">CMSubtract</span><span class="p">,</span> <span class="n">source0</span><span class="p">,</span> <span class="n">operand0</span><span class="p">,</span> <span class="n">source1</span><span class="p">,</span> <span class="n">operand1</span><span class="p">)</span>
<span class="n">ts</span><span class="o">.</span><span class="n">setCombineAlpha</span><span class="p">(</span><span class="n">TextureStage</span><span class="o">.</span><span class="n">CMInterpolate</span><span class="p">,</span> <span class="n">source0</span><span class="p">,</span> <span class="n">operand0</span><span class="p">,</span> <span class="n">source1</span><span class="p">,</span> <span class="n">operand1</span><span class="p">,</span>
                   <span class="n">source2</span><span class="p">,</span> <span class="n">operand2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="source-values">
<h2>Source values<a class="headerlink" href="#source-values" title="Permalink to this headline">¶</a></h2>
<p>This table lists the legal values for any of source, source0, source1, or
source2, in the above calls. This broadly gives you control over which two (or
three) textures are used as inputs to the above combine modes.</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>TextureStage.CSTexture</td>
<td>The current, or “top” texture image.</td>
</tr>
<tr class="row-even"><td>TextureStage.CSConstant</td>
<td>A constant color, specified via TextureStage.setColor().</td>
</tr>
<tr class="row-odd"><td>TextureStage.CSConstantColorScale</td>
<td>The same as CSConstant, but the color will be modified by NodePath.setColorScale().</td>
</tr>
<tr class="row-even"><td>TextureStage.CSPrimaryColor</td>
<td>The “primary” color of the object, before the first texture stage was applied, and including any lighting effects.</td>
</tr>
<tr class="row-odd"><td>TextureStage.CSPrevious</td>
<td>The result of the previous texture stage; i.e. the texture below.</td>
</tr>
<tr class="row-even"><td>TextureStage.CSLastSavedResult</td>
<td>The result of any of the previous texture stages; specifically, the last stage for which TextureStage.setSavedResult(True) was called.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="operands">
<h2>Operands<a class="headerlink" href="#operands" title="Permalink to this headline">¶</a></h2>
<p>This table lists the legal values for any of operand, operand0, operand1, or
operand2, in the above calls. This fine-tunes the channel data that is used
from each texture input.</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>TextureStage.COSrcColor</td>
<td>Use the RGB color. When used in a setCombineAlpha() call, RGB is automatically aggregated into grayscale.</td>
</tr>
<tr class="row-even"><td>TextureStage.COOneMinusSrcColor</td>
<td>The complement of the RGB color.</td>
</tr>
<tr class="row-odd"><td>TextureStage.COSrcAlpha</td>
<td>Use the alpha value. When used in a setCombineRgb() call, alpha is automatically expanded into uniform RGB.</td>
</tr>
<tr class="row-even"><td>TextureStage.COOneMinusSrcAlpha</td>
<td>The complement of the alpha value.</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="texture-transforms.html" class="btn btn-neutral float-right" title="Texture Transforms" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="texture-order.html" class="btn btn-neutral" title="Texture Order" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Panda3D.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.10.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>