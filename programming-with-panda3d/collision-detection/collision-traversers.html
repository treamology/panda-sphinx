

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Collision Traversers &mdash; Panda3D Manual</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Panda3D Manual" href="../../index.html"/>
        <link rel="up" title="Collision Detection" href="index.html"/>
        <link rel="next" title="Collision Bitmasks" href="collision-bitmasks.html"/>
        <link rel="prev" title="Collision Entries" href="collision-entries.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Panda3D
          

          
          </a>

          
            
            
              <div class="version">
                1.10
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro/index.html">Introduction to Panda3D</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Programming with Panda3D</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../the-scene-graph/index.html">The Scene Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../the-configuration-file/index.html">The Configuration File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../models-and-actors/index.html">Models and Actors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../render-attributes/index.html">Render Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../texturing/index.html">Texturing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shaders/index.html">Shaders</a></li>
<li class="toctree-l2"><a class="reference internal" href="../camera-control/index.html">Camera Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound/index.html">Sound</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intervals/index.html">Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tasks-and-event-handling/index.html">Tasks and Event Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text-and-image-rendering/index.html">Text and Image Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../directgui/index.html">DirectGUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../render-effects/index.html">Render Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finite-state-machines/index.html">Finite State Machines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../terrain/index.html">Terrain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal-structures/index.html">Advanced operations with Panda3D&#8217;s internal structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../render-to-texture-and-image-postprocessing/index.html">Render-to-Texture and Image Postprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../panda3d-rendering-process/index.html">Panda3D Rendering Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../panda3d-utility-functions.html">Panda3D Utility Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../particle-effects/index.html">Particle Effects</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Collision Detection</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="collision-solids.html">Collision Solids</a></li>
<li class="toctree-l3"><a class="reference internal" href="collision-handlers.html">Collision Handlers</a></li>
<li class="toctree-l3"><a class="reference internal" href="collision-entries.html">Collision Entries</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Collision Traversers</a></li>
<li class="toctree-l3"><a class="reference internal" href="collision-bitmasks.html">Collision Bitmasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="rapidly-moving-objects.html">Rapidly-Moving Objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="pusher-example.html">Pusher Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="event-example.html">Event Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="bitmask-example.html">Bitmask Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="clicking-on-3d-objects.html">Clicking on 3D Objects</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../garbage-collection/index.html">Garbage Collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware-support/index.html">Hardware support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../math-engine/index.html">Math Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../physics/index.html">Physics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../motion-paths.html">Motion Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timing/index.html">Timing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html">Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multifiles/index.html">Multifiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../showbase.html">ShowBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file-reading.html">File Reading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../threading.html">Threading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subclassing.html">Subclassing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../table-of-features-supported-per-graphic-renderer.html">Table of features supported per graphic renderer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pandai/index.html">Artificial Intelligence (PANDAI)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../distribution/index.html">Distributing Panda3D Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples/index.html">Sample Programs in the Distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../performance-tuning/index.html">Performance Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using-c++/index.html">Using C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Panda3D Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../building-from-source.html">Building Panda3D from Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cheat-sheets.html">Cheat Sheets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started-on-osx.html">Getting Started on OSX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../more-panda3d-resources.html">More Panda3D Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../thirdparty-licenses.html">Third-party dependencies and license info</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../the-irc-channel.html">The IRC Channel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Panda3D</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Programming with Panda3D</a> &raquo;</li>
      
          <li><a href="index.html">Collision Detection</a> &raquo;</li>
      
    <li>Collision Traversers</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/programming-with-panda3d/collision-detection/collision-traversers.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="collision-traversers">
<span id="id1"></span><h1>Collision Traversers<a class="headerlink" href="#collision-traversers" title="Permalink to this headline">Â¶</a></h1>
<p>A CollisionTraverser object performs the actual work of checking all solid
objects for collisions. Normally, you will create a single CollisionTraverser
object and assign it to
<code class="docutils literal"><span class="pre">base.cTrav</span></code>; this traverser will
automatically be run every frame. It is also possible to create additional
CollisionTraversers if you have unusual needs; for instance, to run a second
pass over a subset of the geometry. If you create additional
CollisionTraversers, you must run them yourself.</p>
<p>The CollisionTraverser maintains a list of the active objects in the world,
sometimes called the &#8220;colliders&#8221; or &#8220;from objects&#8221;. The remaining collidable
objects in the world that are not added to a CollisionTraverser are the &#8220;into
objects&#8221;. Each of the &#8220;from objects&#8221; is tested for collisions with all other
objects in the world, including the other from objects as well as the into
objects.</p>
<p>Note that it is up to you to decide how to divide the world into &#8220;from
objects&#8221; and &#8220;into objects&#8221;. Typically, the from objects are the moving
objects in the scene, and the static objects like walls and floors are into
objects, but the collision system does not require this; it is perfectly
legitimate for a from object to remain completely still while an into object
moves into it, and the collision will still be detected.</p>
<p>It is a good idea for performance reasons to minimize the number of from
objects in a particular scene. For instance, the user&#8217;s avatar is typically a
from object; in many cases, it may be the only from object required&#8211;all of
the other objects in the scene, including the walls, floors, and other
avatars, might be simply into objects. If your game involves bullets that need
to test for collisions with the other avatars, you will need to make either
the bullets or the other avatars be from objects, but probably not both.</p>
<p>In order to add a from object to the CollisionTraverser, you must first create
a CollisionHandler that defines the action to take when the collision is
detected; then you pass the NodePath for your from object, and its
CollisionHandler, to <code class="docutils literal"><span class="pre">addCollider</span></code>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">traverser</span> <span class="o">=</span> <span class="n">CollisionTraverser</span><span class="p">(</span><span class="s1">&#39;traverser name&#39;</span><span class="p">)</span>
<span class="n">base</span><span class="o">.</span><span class="n">cTrav</span> <span class="o">=</span> <span class="n">traverser</span>
<span class="n">traverser</span><span class="o">.</span><span class="n">addCollider</span><span class="p">(</span><span class="n">fromObject</span><span class="p">,</span> <span class="n">handler</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">CollisionTraverser</span> <span class="n">c_trav</span><span class="p">.</span><span class="n">add_collider</span><span class="p">(</span><span class="n">fromObject</span><span class="p">,</span> <span class="n">handler</span><span class="p">);</span>
</pre></div>
</div>
<p>You only need to add the &#8220;from&#8221; objects to your traverser! Don&#8217;t try to add
the &#8220;into&#8221; objects to the CollisionTraverser. Adding an object to a
CollisionTraverser makes it a &#8220;from&#8221; object. On the other hand, every object
that you put in the scene graph, whether it is added to a CollisionTraverser
or not, is automatically an &#8220;into&#8221; object.</p>
<p>Note that all of your &#8220;from&#8221; objects are typically &#8220;into&#8221; objects too (because
they are in the scene graph), although you may choose to make them not behave
as into objects by setting their :ref:` &lt;collision-bitmasks&gt;` to zero.</p>
<p>The CollisionTraverser can visually show the collisions that are occurring by
using the following line of code:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">collisionTraverser</span><span class="o">.</span><span class="n">showCollisions</span><span class="p">(</span><span class="n">render</span><span class="p">)</span>
</pre></div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="collision-bitmasks.html" class="btn btn-neutral float-right" title="Collision Bitmasks" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="collision-entries.html" class="btn btn-neutral" title="Collision Entries" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Panda3D.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.10.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>